# Description

복잡하게 생각하지 말자. 선택과 집중. 지금 당장 해야 하는 것에만 집중하자. 

하나의 계좌에서 하나의 전략으로만 트레이딩 한다고 가정한 상태로 개발해보자. 

첫 번째 목표는 시장에서의 생존
두 번째 목표는 NAV의 꾸준한 성장
세 번재 목표는 높은 수익 창출

1. 시장에서의 생존
   - 파산위험관리 - 파산 가능성 0% 유지
   - 위험관리 - 계좌자산의 몇 %까지 손실을 허용할 것인가
   - 자금관리 - One Trading에 얼만큼 포지션을 노출할 것인가
2. NAV의 꾸준한 성장
   - 매매 전략 - 적절한 기대치와 매매기회
     - 적절한 기대치 : 백테스트를 통해 검증
       - 10 구간으로 나눠서 검증
       - 현재 시점부터 모의 투자(30번의 원 트레이딩)
       - 이후 해당 전략의 기대치를 계산할 수 있음
       - 승률과 손익률, 매매전략의 손절매 검증
     - 매매 기회 : 매매 기회의 발생 빈도
   - 매매 전략 = 예비신호 + 매매계획
     - 예비신호 : 단지 새로운 지지선(상승추세) 또는 저항선(하락추세)을 찾는 일
     - 매매 계획 : 진입조건, 손절매조건, 청산조건, 애드업조건, 포지션크기조건
       - 진입조건 : 예비신호가 발생한 이후 특정 조건 만족시 진입
         - 일괄매수 : 전략이 저수준일 때 사용
         - 분할매수 : 전략을 고도화하면서 사용
       - 손절매조건 : 절대적 손절매와 상대적 손절매
         - 절대적 손절매 : 진입가격 및 포지션 크기에 상관없이 특정 가격폭에 손절매를 설정
         - 상대적 손절매 : 진입가격 및 포지션 크기에 따라 손절매 설정
       - 청산조건(Trailing Stop) : 익절하는 경우
         - Trailing Stop : 현재 가격보다 일정한 폭으로 뒤따라 가거나 지지선/저항선에 맞춰 뒤따라 가는 경우
         - 일괄매도 : 전략이 저수준일 때 사용
         - 분할매도 : 전략을 고도화하면서 사용
       - 애드업(Add-up)조건 : 첫 진입 이후 추가 포지션 노출
         - 애드업 할 때 얼마를 더 넣을 수 있는가? 
       - 포지션크기조건
         - 첫 포지션 크기는 어떤 기준으로 정하는가?
     - 손익차트
       - x축 : 시간의 흐름
       - y축 : nav의 크기
3. 높은 수익 창출
   - 이익은 길게. 추세가 형성되었을 때는 마지막 폭발까지(정규분포의 꼬리를 기억할 것) 기다리기
   - 애드업과 트레일링 스탑 필수



# 개발해야 하는 것들

## 데이터베이스

| 이름        | 이름        |      | 차수 | 차수 |
| ----------- | ----------- | ---- | ---- | ---- |
| 투자자      | 계좌        | =    | 1    | 1    |
| 계좌        | 전략        | =    | M    | M    |
| 전략        | One Trading | =    | 1    | M    |
| 전략        | 종목        | =    | M    | M    |
| One Trading | 종목        | =    | 1    | 1    |





### 투자내역

#### 보유자산

| 계좌     | 보유자산    | 종목명   | 시장 | 거래소     | 보유수량 | 매수평균가 | 매수금액    | 평가금액    | 평가손익   |
| -------- | ----------- | -------- | ---- | ---------- | -------- | ---------- | ----------- | ----------- | ---------- |
| 코인계좌 | 코인        | 비트코인 | 원화 | 업비트     | 1        | 50,000,000 | 50,000,000  | 60,000,000  | 20%        |
| 주식계좌 | 주식        | 삼성전자 | 현물 | 한국거래소 | 1,000    | 50,000     | 50,000,000  | 60,000,000  | 20%        |
| 코인계좌 | 현금        | 원화     |      | 업비트     |          |            |             | 10,000,000  |            |
| 주식계좌 | 현금        | 예수금   |      | 한국거래소 |          |            |             | 10,000,000  |            |
|          | 총보유자산  |          |      |            |          |            | 총매수금액  | 총평가금액  | 총평가손익 |
| 합계     | 140,000,000 |          |      |            |          |            | 100,000,000 | 120,000,000 | 20%        |

#### 거래내역

| 계좌     | 보유자산 | 종목명   | 시장 | 거래소 | 거래종류 | 주문타입 | 거래수량   | 거래단가   | 거래금액  | 수수료 | 세금 | 정산금액  | 주문시간         | 체결시간         |
| :------- | :------- | -------- | ---- | ------ | -------- | -------- | ---------- | ---------- | --------- | ------ | ---- | --------- | ---------------- | ---------------- |
| 코인계좌 | 코인     | 비트코인 | 원화 | 업비트 | 매수     | 시장가   | 0.10936742 | 57,275,000 | 6,264,019 | 3,132  | -    | 6,267,151 | 2021-12-29 22:44 | 2021-12-29 22:44 |
|          |          |          |      |        |          |          |            |            |           |        |      |           |                  |                  |

#### 미체결

| 주문시간         | 보유종목 | 종목명   | 시장 | 거래소 | 거래종류 | 주문타입    | 감시가격  | 주문가격   | 주문수량 | 미체결량 |
| ---------------- | -------- | -------- | ---- | ------ | -------- | ----------- | --------- | ---------- | -------- | -------- |
| 2022-01-13 02:15 | 코인     | 이더리움 | 원화 | 업비트 | 매수     | 예약-지정가 | 4,222,000 | 4,223,000  | 1        | 도달전   |
| 2022-01-13 02:14 | 코인     | 비트코인 | 원화 | 업비트 | 매수     | 지정가      |           | 50,000,000 | 0.02     | 0.02     |





## 성과 대쉬보드

### 기능

#### 주체별

1. 투자자별(계좌별)
2. 매매전략별
3. 투자자/매매전략별

#### 지표

1. 파산위험
2. 기대치
3. 손익비
4. 승률
5. 매매기회
6. 손익차트                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                



### 필요한 기술

1. 성과 데이터 업데이트 기술
   - 실시간으로 해야하나? 실시간으로 하려면 어떻게 해야할까
   - 실시간이 아니라면? 몇 분 단위로 업데이트를 해야할까
2. Admin 페이지 제작
   - HTML, CSS, Javascript 필수적
   - 데모 페이지는 이미 있음
   - 데이터 연동을 어떻게 해야할까.
3. 



## 회사 홈페이지

간단한 랜딩 페이지



## 백테스트 모듈



## 모의투자 모듈





# 거래 순서

간단하게 말해서 
"가격이 오를 것 같은(확률) 투자대상을 특정 금액만큼 매수하고, 손절매 설정하고, 애드업 및 트레일링 스탑을 실행하여 적절한 타이밍에 매도한 뒤 시세 차익을 얻는다". Vice versa.

내가 알고리즘 트레이딩, 그 중에서도 시스템 트레이딩을 하는 이유는 가격이 오를 것 같은 투자대상을 손으로 찾기에 자원이 한정적이기 때문
또한 많은 종목을 사고 파는 것을 손으로 할 수 없기 때문

1. 총자산 파악
2. 리스크 비율 설정 : 노출된 모든 포지션의 손절매에 의한 총손실이 총자산의 몇 %를 차지하는가
3. 파산위험 계산
4. 시장/종목 선택
5. 변동성 측정
6. 포지션 사이즈 결정
7. 손절매 설정



계좌별 누적이익 / 계좌별 누적손실 / 전략별 누적이익 / 전략별 누적손실

손절매에 의한 손실 크기가 총자산의 2%를 넘기면 안된다.



# 한 마디의 조언들

- 손실은 짧게 이익은 길게, 오르는 거 사고 내리는 거 팔고, 벌면 늘리고 잃으면 줄이고.
- 군중은 원시적이니 너의 거래 전략은 간단해야 한다.
- 이기는 매매 전략을 개발하기 위해 최첨단 로켓을 쏘아 올리는 과학자가 될 필요는 없다.
- 시장의 진정한 리더는 가격이다. 
- 두려움은 탐욕보다 더 강한 감정이다.
- 프로들은 정보를 관리하고 확률에 기반하여 결정을 내린다. 트레이딩에서 돈을 벌기 위해 미래를 예측할 필요는 없다.

